{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AI Structured Log Schema",
  "description": "Schema for structured logging of AI operations",
  "type": "object",
  "required": ["timestamp", "level", "message"],
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp"
    },
    "level": {
      "type": "string",
      "enum": ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"],
      "description": "Log level"
    },
    "message": {
      "type": "string",
      "description": "Human-readable log message"
    },
    "logger": {
      "type": "string",
      "description": "Logger name or component"
    },
    "trace_id": {
      "type": "string",
      "description": "Distributed trace ID for correlation"
    },
    "span_id": {
      "type": "string",
      "description": "Span ID within the trace"
    },
    "model": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "AI model name"
        },
        "version": {
          "type": "string",
          "description": "Model version"
        }
      }
    },
    "inference": {
      "type": "object",
      "properties": {
        "latency_ms": {
          "type": "number",
          "description": "Inference latency in milliseconds"
        },
        "tokens_input": {
          "type": "integer",
          "description": "Number of input tokens"
        },
        "tokens_output": {
          "type": "integer",
          "description": "Number of output tokens"
        },
        "cost": {
          "type": "number",
          "description": "Inference cost in dollars"
        }
      }
    },
    "request": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique request identifier"
        },
        "user_id": {
          "type": "string",
          "description": "User identifier"
        },
        "session_id": {
          "type": "string",
          "description": "Session identifier"
        }
      }
    },
    "error": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "Error type or class"
        },
        "message": {
          "type": "string",
          "description": "Error message"
        },
        "stack_trace": {
          "type": "string",
          "description": "Stack trace"
        }
      }
    },
    "environment": {
      "type": "string",
      "enum": ["development", "staging", "production"],
      "description": "Deployment environment"
    },
    "metadata": {
      "type": "object",
      "description": "Additional context",
      "additionalProperties": true
    }
  }
}
